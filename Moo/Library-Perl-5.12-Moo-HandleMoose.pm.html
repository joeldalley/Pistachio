<div>
<div style="font-family:Consolas,'Liberation Mono',Courier,monospace;float:left;background-color:#eee;border-right:1px #999988 solid">
<div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">1</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">2</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">3</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">4</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">5</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">6</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">7</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">8</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">9</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">10</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">11</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">12</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">13</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">14</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">15</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">16</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">17</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">18</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">19</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">20</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">21</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">22</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">23</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">24</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">25</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">26</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">27</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">28</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">29</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">30</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">31</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">32</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">33</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">34</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">35</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">36</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">37</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">38</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">39</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">40</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">41</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">42</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">43</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">44</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">45</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">46</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">47</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">48</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">49</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">50</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">51</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">52</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">53</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">54</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">55</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">56</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">57</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">58</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">59</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">60</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">61</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">62</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">63</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">64</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">65</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">66</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">67</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">68</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">69</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">70</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">71</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">72</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">73</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">74</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">75</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">76</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">77</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">78</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">79</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">80</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">81</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">82</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">83</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">84</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">85</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">86</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">87</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">88</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">89</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">90</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">91</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">92</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">93</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">94</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">95</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">96</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">97</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">98</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">99</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">100</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">101</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">102</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">103</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">104</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">105</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">106</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">107</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">108</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">109</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">110</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">111</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">112</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">113</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">114</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">115</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">116</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">117</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">118</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">119</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">120</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">121</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">122</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">123</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">124</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">125</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">126</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">127</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">128</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">129</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">130</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">131</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">132</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">133</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">134</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">135</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">136</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">137</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">138</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">139</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">140</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">141</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">142</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">143</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">144</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">145</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">146</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">147</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">148</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">149</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">150</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">151</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">152</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">153</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">154</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">155</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">156</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">157</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">158</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">159</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">160</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">161</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">162</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">163</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">164</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">165</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">166</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">167</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">168</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">169</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">170</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">171</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">172</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">173</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">174</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">175</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">176</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">177</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">178</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">179</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">180</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">181</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">182</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">183</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">184</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">185</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">186</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">187</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">188</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">189</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">190</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">191</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">192</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">193</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">194</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">195</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">196</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">197</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">198</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">199</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">200</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">201</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">202</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">203</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">204</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">205</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">206</div> <div style="font-size:13px;color:#999988;display:block;line-height:18px;padding:0 8px;margin:0;border:0;text-align:right;border-spacing:2px">207</div>
</div>

<div style="font-family:Consolas,'Liberation Mono',Courier,monospace;padding:0 8px 0 11px;white-space:pre;font-size:13px;line-height:18px;float:left"><span style="color:#0086B3">package</span><span> </span><span style="color:#333">Moo::HandleMoose</span><span style="color:#333">;</span><span>
</span><span>
</span><span style="color:#333;font-weight:bold">use</span><span> </span><span style="color:#333">strictures</span><span> </span><span style="color:#008080">1</span><span style="color:#333">;</span><span>
</span><span style="color:#333;font-weight:bold">use</span><span> </span><span style="color:#333">Moo::_Utils</span><span style="color:#333">;</span><span>
</span><span style="color:#333;font-weight:bold">use</span><span> </span><span style="color:#333">B</span><span> </span><span style="color:#D14">qw(perlstring)</span><span style="color:#333">;</span><span>
</span><span>
</span><span style="color:#333;font-weight:bold">our</span><span> </span><span style="color:#008080">%TYPE_MAP</span><span style="color:#333">;</span><span>
</span><span>
</span><span style="color:#333;font-weight:bold">our</span><span> </span><span style="color:#008080">$SETUP_DONE</span><span style="color:#333">;</span><span>
</span><span>
</span><span style="color:#333;font-weight:bold">sub</span><span> </span><span style="color:#990000;font-weight:bold">import</span><span> </span><span style="color:#333">{</span><span> </span><span style="color:#0086B3">return</span><span> </span><span style="color:#333;font-weight:bold">if</span><span> </span><span style="color:#008080">$SETUP_DONE</span><span style="color:#333">;</span><span> </span><span style="color:#333">inject_all</span><span style="color:#333">(</span><span style="color:#333">)</span><span style="color:#333">;</span><span> </span><span style="color:#008080">$SETUP_DONE</span><span> </span><span style="color:#333">=</span><span> </span><span style="color:#008080">1</span><span style="color:#333">;</span><span> </span><span style="color:#333">}</span><span>
</span><span>
</span><span style="color:#333;font-weight:bold">sub</span><span> </span><span style="color:#990000;font-weight:bold">inject_all</span><span> </span><span style="color:#333">{</span><span>
</span><span>  </span><span style="color:#333;font-weight:bold">require</span><span> </span><span style="color:#333">Class::MOP</span><span style="color:#333">;</span><span>
</span><span>  </span><span style="color:#333">inject_fake_metaclass_for</span><span style="color:#333">(</span><span style="color:#008080">$_</span><span style="color:#333">)</span><span>
</span><span>    </span><span style="color:#0086B3">for</span><span> </span><span style="color:#0086B3">grep</span><span> </span><span style="color:#008080">$_</span><span> </span><span style="color:#333;font-weight:bold">ne</span><span> </span><span style="color:#D14">&#39;Moo::Object&#39;</span><span style="color:#333">,</span><span> </span><span style="color:#333;font-weight:bold">do</span><span> </span><span style="color:#333">{</span><span> </span><span style="color:#0086B3">no</span><span> </span><span style="color:#333">warnings</span><span> </span><span style="color:#D14">&#39;once&#39;</span><span style="color:#333">;</span><span> </span><span style="color:#0086B3">keys</span><span> </span><span style="color:#008080">%Moo::MAKERS</span><span> </span><span style="color:#333">}</span><span style="color:#333">;</span><span>
</span><span>  </span><span style="color:#333">inject_fake_metaclass_for</span><span style="color:#333">(</span><span style="color:#008080">$_</span><span style="color:#333">)</span><span> </span><span style="color:#0086B3">for</span><span> </span><span style="color:#0086B3">keys</span><span> </span><span style="color:#008080">%Moo::Role::INFO</span><span style="color:#333">;</span><span>
</span><span>  </span><span style="color:#333;font-weight:bold">require</span><span> </span><span style="color:#333">Moose::Meta::Method::Constructor</span><span style="color:#333">;</span><span>
</span><span>  </span><span style="color:#008080">@Moo::HandleMoose::FakeConstructor::ISA</span><span> </span><span style="color:#333">=</span><span> </span><span style="color:#D14">&#39;Moose::Meta::Method::Constructor&#39;</span><span style="color:#333">;</span><span>
</span><span style="color:#333">}</span><span>
</span><span>
</span><span style="color:#333;font-weight:bold">sub</span><span> </span><span style="color:#990000;font-weight:bold">maybe_reinject_fake_metaclass_for</span><span> </span><span style="color:#333">{</span><span>
</span><span>  </span><span style="color:#333;font-weight:bold">my</span><span> </span><span style="color:#333">(</span><span style="color:#008080">$name</span><span style="color:#333">)</span><span> </span><span style="color:#333">=</span><span> </span><span style="color:#008080">@_</span><span style="color:#333">;</span><span>
</span><span>  </span><span style="color:#333;font-weight:bold">our</span><span> </span><span style="color:#008080">%DID_INJECT</span><span style="color:#333">;</span><span>
</span><span>  </span><span style="color:#333;font-weight:bold">if</span><span> </span><span style="color:#333">(</span><span style="color:#0086B3">delete</span><span> </span><span style="color:#008080">$DID_INJECT</span><span style="color:#333">{</span><span style="color:#008080">$name</span><span style="color:#333">}</span><span style="color:#333">)</span><span> </span><span style="color:#333">{</span><span>
</span><span>    </span><span style="color:#333;font-weight:bold">unless</span><span> </span><span style="color:#333">(</span><span style="color:#008080">$Moo::Role::INFO</span><span style="color:#333">{</span><span style="color:#008080">$name</span><span style="color:#333">}</span><span style="color:#333">)</span><span> </span><span style="color:#333">{</span><span>
</span><span>      </span><span style="color:#333">Moo</span><span style="color:#333;font-weight:bold">-&gt;</span><span style="color:#333">_constructor_maker_for</span><span style="color:#333">(</span><span style="color:#008080">$name</span><span style="color:#333">)</span><span style="color:#333;font-weight:bold">-&gt;</span><span style="color:#333">install_delayed</span><span style="color:#333">;</span><span>
</span><span>    </span><span style="color:#333">}</span><span>
</span><span>    </span><span style="color:#333">inject_fake_metaclass_for</span><span style="color:#333">(</span><span style="color:#008080">$name</span><span style="color:#333">)</span><span style="color:#333">;</span><span>
</span><span>  </span><span style="color:#333">}</span><span>
</span><span style="color:#333">}</span><span>
</span><span>
</span><span style="color:#333;font-weight:bold">sub</span><span> </span><span style="color:#990000;font-weight:bold">inject_fake_metaclass_for</span><span> </span><span style="color:#333">{</span><span>
</span><span>  </span><span style="color:#333;font-weight:bold">my</span><span> </span><span style="color:#333">(</span><span style="color:#008080">$name</span><span style="color:#333">)</span><span> </span><span style="color:#333">=</span><span> </span><span style="color:#008080">@_</span><span style="color:#333">;</span><span>
</span><span>  </span><span style="color:#333;font-weight:bold">require</span><span> </span><span style="color:#333">Class::MOP</span><span style="color:#333">;</span><span>
</span><span>  </span><span style="color:#333;font-weight:bold">require</span><span> </span><span style="color:#333">Moo::HandleMoose::FakeMetaClass</span><span style="color:#333">;</span><span>
</span><span>  </span><span style="color:#333">Class::MOP::store_metaclass_by_name</span><span style="color:#333">(</span><span>
</span><span>    </span><span style="color:#008080">$name</span><span style="color:#333">,</span><span> </span><span style="color:#0086B3">bless</span><span style="color:#333">(</span><span style="color:#333">{</span><span> </span><span style="color:#333">name</span><span> </span><span style="color:#333">=&gt;</span><span> </span><span style="color:#008080">$name</span><span> </span><span style="color:#333">}</span><span style="color:#333">,</span><span> </span><span style="color:#D14">&#39;Moo::HandleMoose::FakeMetaClass&#39;</span><span style="color:#333">)</span><span>
</span><span>  </span><span style="color:#333">)</span><span style="color:#333">;</span><span>
</span><span>  </span><span style="color:#333;font-weight:bold">require</span><span> </span><span style="color:#333">Moose::Util::TypeConstraints</span><span style="color:#333">;</span><span>
</span><span>  </span><span style="color:#333;font-weight:bold">if</span><span> </span><span style="color:#333">(</span><span style="color:#008080">$Moo::Role::INFO</span><span style="color:#333">{</span><span style="color:#008080">$name</span><span style="color:#333">}</span><span style="color:#333">)</span><span> </span><span style="color:#333">{</span><span>
</span><span>    </span><span style="color:#333">Moose::Util::TypeConstraints::find_or_create_does_type_constraint</span><span style="color:#333">(</span><span style="color:#008080">$name</span><span style="color:#333">)</span><span style="color:#333">;</span><span>
</span><span>  </span><span style="color:#333">}</span><span> </span><span style="color:#333;font-weight:bold">else</span><span> </span><span style="color:#333">{</span><span>
</span><span>    </span><span style="color:#333">Moose::Util::TypeConstraints::find_or_create_isa_type_constraint</span><span style="color:#333">(</span><span style="color:#008080">$name</span><span style="color:#333">)</span><span style="color:#333">;</span><span>
</span><span>  </span><span style="color:#333">}</span><span>
</span><span style="color:#333">}</span><span>
</span><span>
</span><span style="color:#333">{</span><span>
</span><span>  </span><span style="color:#0086B3">package</span><span> </span><span style="color:#333">Moo::HandleMoose::FakeConstructor</span><span style="color:#333">;</span><span>
</span><span>
  </span><span style="color:#333;font-weight:bold">sub</span><span> </span><span style="color:#990000;font-weight:bold">_uninlined_body</span><span> </span><span style="color:#333">{</span><span> </span><span style="color:#333;font-weight:bold">\</span><span style="color:#333">&amp;Moose::Object::new</span><span> </span><span style="color:#333">}</span><span>
</span><span style="color:#333">}</span><span>
</span><span>    
</span><span>
</span><span style="color:#333;font-weight:bold">sub</span><span> </span><span style="color:#990000;font-weight:bold">inject_real_metaclass_for</span><span> </span><span style="color:#333">{</span><span>
</span><span>  </span><span style="color:#333;font-weight:bold">my</span><span> </span><span style="color:#333">(</span><span style="color:#008080">$name</span><span style="color:#333">)</span><span> </span><span style="color:#333">=</span><span> </span><span style="color:#008080">@_</span><span style="color:#333">;</span><span>
</span><span>  </span><span style="color:#333;font-weight:bold">our</span><span> </span><span style="color:#008080">%DID_INJECT</span><span style="color:#333">;</span><span>
</span><span>  </span><span style="color:#0086B3">return</span><span> </span><span style="color:#333">Class::MOP::get_metaclass_by_name</span><span style="color:#333">(</span><span style="color:#008080">$name</span><span style="color:#333">)</span><span> </span><span style="color:#333;font-weight:bold">if</span><span> </span><span style="color:#008080">$DID_INJECT</span><span style="color:#333">{</span><span style="color:#008080">$name</span><span style="color:#333">}</span><span style="color:#333">;</span><span>
</span><span>  </span><span style="color:#333;font-weight:bold">require</span><span> </span><span style="color:#333">Moose</span><span style="color:#333">;</span><span> </span><span style="color:#333;font-weight:bold">require</span><span> </span><span style="color:#333">Moo</span><span style="color:#333">;</span><span> </span><span style="color:#333;font-weight:bold">require</span><span> </span><span style="color:#333">Moo::Role</span><span style="color:#333">;</span><span> </span><span style="color:#333;font-weight:bold">require</span><span> </span><span style="color:#333">Scalar::Util</span><span style="color:#333">;</span><span>
</span><span>  </span><span style="color:#333">Class::MOP::remove_metaclass_by_name</span><span style="color:#333">(</span><span style="color:#008080">$name</span><span style="color:#333">)</span><span style="color:#333">;</span><span>
</span><span>  </span><span style="color:#333;font-weight:bold">my</span><span> </span><span style="color:#333">(</span><span style="color:#008080">$am_role</span><span style="color:#333">,</span><span> </span><span style="color:#008080">$meta</span><span style="color:#333">,</span><span> </span><span style="color:#008080">$attr_specs</span><span style="color:#333">,</span><span> </span><span style="color:#008080">$attr_order</span><span style="color:#333">)</span><span> </span><span style="color:#333">=</span><span> </span><span style="color:#333;font-weight:bold">do</span><span> </span><span style="color:#333">{</span><span>
</span><span>    </span><span style="color:#333;font-weight:bold">if</span><span> </span><span style="color:#333">(</span><span style="color:#333;font-weight:bold">my</span><span> </span><span style="color:#008080">$info</span><span> </span><span style="color:#333">=</span><span> </span><span style="color:#008080">$Moo::Role::INFO</span><span style="color:#333">{</span><span style="color:#008080">$name</span><span style="color:#333">}</span><span style="color:#333">)</span><span> </span><span style="color:#333">{</span><span>
</span><span>      </span><span style="color:#333;font-weight:bold">my</span><span> </span><span style="color:#008080">@attr_info</span><span> </span><span style="color:#333">=</span><span> </span><span style="color:#008080">@</span><span style="color:#333">{</span><span style="color:#008080">$info</span><span style="color:#333;font-weight:bold">-&gt;</span><span style="color:#333">{</span><span style="color:#333">attributes</span><span style="color:#333">}</span><span style="color:#333">||</span><span style="color:#333">[</span><span style="color:#333">]</span><span style="color:#333">}</span><span style="color:#333">;</span><span>
</span><span>      </span><span style="color:#333">(</span><span style="color:#008080">1</span><span style="color:#333">,</span><span> </span><span style="color:#333">Moose::Meta::Role</span><span style="color:#333;font-weight:bold">-&gt;</span><span style="color:#333">initialize</span><span style="color:#333">(</span><span style="color:#008080">$name</span><span style="color:#333">)</span><span style="color:#333">,</span><span>
</span><span>       </span><span style="color:#333">{</span><span> </span><span style="color:#008080">@attr_info</span><span> </span><span style="color:#333">}</span><span style="color:#333">,</span><span>
</span><span>       </span><span style="color:#333">[</span><span> </span><span style="color:#008080">@attr_info</span><span style="color:#333">[</span><span style="color:#0086B3">grep</span><span> </span><span style="color:#333">!</span><span style="color:#333">(</span><span style="color:#008080">$_</span><span> </span><span style="color:#333">%</span><span> </span><span style="color:#008080">2</span><span style="color:#333">)</span><span style="color:#333">,</span><span> </span><span style="color:#008080">0</span><span style="color:#333">..</span><span style="color:#008080">$#attr_info</span><span style="color:#333">]</span><span> </span><span style="color:#333">]</span><span>
</span><span>      </span><span style="color:#333">)</span><span>
</span><span>    </span><span style="color:#333">}</span><span> </span><span style="color:#333;font-weight:bold">elsif</span><span> </span><span style="color:#333">(</span><span> </span><span style="color:#333;font-weight:bold">my</span><span> </span><span style="color:#008080">$cmaker</span><span> </span><span style="color:#333">=</span><span> </span><span style="color:#333">Moo</span><span style="color:#333;font-weight:bold">-&gt;</span><span style="color:#333">_constructor_maker_for</span><span style="color:#333">(</span><span style="color:#008080">$name</span><span style="color:#333">)</span><span> </span><span style="color:#333">)</span><span> </span><span style="color:#333">{</span><span>
</span><span>      </span><span style="color:#333;font-weight:bold">my</span><span> </span><span style="color:#008080">$specs</span><span> </span><span style="color:#333">=</span><span> </span><span style="color:#008080">$cmaker</span><span style="color:#333;font-weight:bold">-&gt;</span><span style="color:#333">all_attribute_specs</span><span style="color:#333">;</span><span>
</span><span>      </span><span style="color:#333">(</span><span style="color:#008080">0</span><span style="color:#333">,</span><span> </span><span style="color:#333">Moose::Meta::Class</span><span style="color:#333;font-weight:bold">-&gt;</span><span style="color:#333">initialize</span><span style="color:#333">(</span><span style="color:#008080">$name</span><span style="color:#333">)</span><span style="color:#333">,</span><span> </span><span style="color:#008080">$specs</span><span style="color:#333">,</span><span>
</span><span>       </span><span style="color:#333">[</span><span> </span><span style="color:#0086B3">sort</span><span> </span><span style="color:#333">{</span><span> </span><span style="color:#008080">$specs</span><span style="color:#333;font-weight:bold">-&gt;</span><span style="color:#333">{</span><span style="color:#008080">$a</span><span style="color:#333">}</span><span style="color:#333">{</span><span style="color:#0086B3">index</span><span style="color:#333">}</span><span> </span><span style="color:#333">&lt;=&gt;</span><span> </span><span style="color:#008080">$specs</span><span style="color:#333;font-weight:bold">-&gt;</span><span style="color:#333">{</span><span style="color:#008080">$b</span><span style="color:#333">}</span><span style="color:#333">{</span><span style="color:#0086B3">index</span><span style="color:#333">}</span><span> </span><span style="color:#333">}</span><span> </span><span style="color:#0086B3">keys</span><span> </span><span style="color:#008080">%</span><span style="color:#008080">$specs</span><span> </span><span style="color:#333">]</span><span>
</span><span>      </span><span style="color:#333">)</span><span style="color:#333">;</span><span>
</span><span>    </span><span style="color:#333">}</span><span> </span><span style="color:#333;font-weight:bold">else</span><span> </span><span style="color:#333">{</span><span>
</span><span style="color:#999988;font-style:italic">       # This codepath is used if $name does not exist in $Moo::MAKERS
</span><span>       </span><span style="color:#333">(</span><span style="color:#008080">0</span><span style="color:#333">,</span><span> </span><span style="color:#333">Moose::Meta::Class</span><span style="color:#333;font-weight:bold">-&gt;</span><span style="color:#333">initialize</span><span style="color:#333">(</span><span style="color:#008080">$name</span><span style="color:#333">)</span><span style="color:#333">,</span><span> </span><span style="color:#333">{</span><span style="color:#333">}</span><span style="color:#333">,</span><span> </span><span style="color:#333">[</span><span style="color:#333">]</span><span> </span><span style="color:#333">)</span><span>
</span><span>    </span><span style="color:#333">}</span><span>
</span><span>  </span><span style="color:#333">}</span><span style="color:#333">;</span><span>
</span><span>
  </span><span style="color:#0086B3">for</span><span> </span><span style="color:#333;font-weight:bold">my</span><span> </span><span style="color:#008080">$spec</span><span> </span><span style="color:#333">(</span><span style="color:#0086B3">values</span><span> </span><span style="color:#008080">%</span><span style="color:#008080">$attr_specs</span><span style="color:#333">)</span><span> </span><span style="color:#333">{</span><span>
</span><span>    </span><span style="color:#333;font-weight:bold">if</span><span> </span><span style="color:#333">(</span><span style="color:#333;font-weight:bold">my</span><span> </span><span style="color:#008080">$inflators</span><span> </span><span style="color:#333">=</span><span> </span><span style="color:#0086B3">delete</span><span> </span><span style="color:#008080">$spec</span><span style="color:#333;font-weight:bold">-&gt;</span><span style="color:#333">{</span><span style="color:#333">moosify</span><span style="color:#333">}</span><span style="color:#333">)</span><span> </span><span style="color:#333">{</span><span>
</span><span>      </span><span style="color:#008080">$_</span><span style="color:#333;font-weight:bold">-&gt;</span><span style="color:#333">(</span><span style="color:#008080">$spec</span><span style="color:#333">)</span><span> </span><span style="color:#0086B3">for</span><span> </span><span style="color:#008080">@</span><span style="color:#008080">$inflators</span><span style="color:#333">;</span><span>
</span><span>    </span><span style="color:#333">}</span><span>
</span><span>  </span><span style="color:#333">}</span><span>
</span><span>
  </span><span style="color:#333;font-weight:bold">my</span><span> </span><span style="color:#008080">%methods</span><span> </span><span style="color:#333">=</span><span> </span><span style="color:#008080">%</span><span style="color:#333">{</span><span style="color:#333">Role::Tiny</span><span style="color:#333;font-weight:bold">-&gt;</span><span style="color:#333">_concrete_methods_of</span><span style="color:#333">(</span><span style="color:#008080">$name</span><span style="color:#333">)</span><span style="color:#333">}</span><span style="color:#333">;</span><span>
</span><span>
</span><span style="color:#999988;font-style:italic">  # if stuff gets added afterwards, _maybe_reset_handlemoose should
</span><span style="color:#999988;font-style:italic">  # trigger the recreation of the metaclass but we need to ensure the
</span><span style="color:#999988;font-style:italic">  # Role::Tiny cache is cleared so we don&#39;t confuse Moo itself.
</span><span>  </span><span style="color:#333;font-weight:bold">if</span><span> </span><span style="color:#333">(</span><span style="color:#333;font-weight:bold">my</span><span> </span><span style="color:#008080">$info</span><span> </span><span style="color:#333">=</span><span> </span><span style="color:#008080">$Role::Tiny::INFO</span><span style="color:#333">{</span><span style="color:#008080">$name</span><span style="color:#333">}</span><span style="color:#333">)</span><span> </span><span style="color:#333">{</span><span>
</span><span>    </span><span style="color:#0086B3">delete</span><span> </span><span style="color:#008080">$info</span><span style="color:#333;font-weight:bold">-&gt;</span><span style="color:#333">{</span><span style="color:#333">methods</span><span style="color:#333">}</span><span style="color:#333">;</span><span>
</span><span>  </span><span style="color:#333">}</span><span>
</span><span>
</span><span style="color:#999988;font-style:italic">  # needed to ensure the method body is stable and get things named
</span><span>  </span><span style="color:#333">Sub::Defer::undefer_sub</span><span style="color:#333">(</span><span style="color:#008080">$_</span><span style="color:#333">)</span><span> </span><span style="color:#0086B3">for</span><span> </span><span style="color:#0086B3">grep</span><span> </span><span style="color:#0086B3">defined</span><span style="color:#333">,</span><span> </span><span style="color:#0086B3">values</span><span> </span><span style="color:#008080">%methods</span><span style="color:#333">;</span><span>
</span><span>  </span><span style="color:#333;font-weight:bold">my</span><span> </span><span style="color:#008080">@attrs</span><span style="color:#333">;</span><span>
</span><span>  </span><span style="color:#333">{</span><span>
</span><span style="color:#999988;font-style:italic">    # This local is completely not required for roles but harmless
</span><span>    </span><span style="color:#0086B3">local</span><span> </span><span style="color:#008080">@</span><span style="color:#333">{</span><span style="color:#333">_getstash</span><span style="color:#333">(</span><span style="color:#008080">$name</span><span style="color:#333">)</span><span style="color:#333">}</span><span style="color:#333">{</span><span style="color:#0086B3">keys</span><span> </span><span style="color:#008080">%methods</span><span style="color:#333">}</span><span style="color:#333">;</span><span>
</span><span>    </span><span style="color:#333;font-weight:bold">my</span><span> </span><span style="color:#008080">%seen_name</span><span style="color:#333">;</span><span>
</span><span>    </span><span style="color:#0086B3">foreach</span><span> </span><span style="color:#333;font-weight:bold">my</span><span> </span><span style="color:#008080">$name</span><span> </span><span style="color:#333">(</span><span style="color:#008080">@</span><span style="color:#008080">$attr_order</span><span style="color:#333">)</span><span> </span><span style="color:#333">{</span><span>
</span><span>      </span><span style="color:#008080">$seen_name</span><span style="color:#333">{</span><span style="color:#008080">$name</span><span style="color:#333">}</span><span> </span><span style="color:#333">=</span><span> </span><span style="color:#008080">1</span><span style="color:#333">;</span><span>
</span><span>      </span><span style="color:#333;font-weight:bold">my</span><span> </span><span style="color:#008080">%spec</span><span> </span><span style="color:#333">=</span><span> </span><span style="color:#008080">%</span><span style="color:#333">{</span><span style="color:#008080">$attr_specs</span><span style="color:#333;font-weight:bold">-&gt;</span><span style="color:#333">{</span><span style="color:#008080">$name</span><span style="color:#333">}</span><span style="color:#333">}</span><span style="color:#333">;</span><span>
</span><span>      </span><span style="color:#333;font-weight:bold">my</span><span> </span><span style="color:#008080">%spec_map</span><span> </span><span style="color:#333">=</span><span> </span><span style="color:#333">(</span><span>
</span><span>        </span><span style="color:#0086B3">map</span><span> </span><span style="color:#333">{</span><span> </span><span style="color:#008080">$_</span><span style="color:#333;font-weight:bold">-&gt;</span><span style="color:#333">name</span><span> </span><span style="color:#333">=&gt;</span><span> </span><span style="color:#008080">$_</span><span style="color:#333;font-weight:bold">-&gt;</span><span style="color:#333">init_arg</span><span style="color:#333">||</span><span style="color:#008080">$_</span><span style="color:#333;font-weight:bold">-&gt;</span><span style="color:#333">name</span><span> </span><span style="color:#333">}</span><span>
</span><span>        </span><span style="color:#333">(</span><span>
</span><span>          </span><span style="color:#333">(</span><span style="color:#0086B3">grep</span><span> </span><span style="color:#333">{</span><span> </span><span style="color:#008080">$_</span><span style="color:#333;font-weight:bold">-&gt;</span><span style="color:#333">has_init_arg</span><span> </span><span style="color:#333">}</span><span>
</span><span>             </span><span style="color:#008080">$meta</span><span style="color:#333;font-weight:bold">-&gt;</span><span style="color:#333">attribute_metaclass</span><span style="color:#333;font-weight:bold">-&gt;</span><span style="color:#333">meta</span><span style="color:#333;font-weight:bold">-&gt;</span><span style="color:#333">get_all_attributes</span><span style="color:#333">)</span><span style="color:#333">,</span><span>
</span><span>          </span><span style="color:#0086B3">grep</span><span> </span><span style="color:#333">{</span><span> </span><span style="color:#0086B3">exists</span><span style="color:#333">(</span><span style="color:#008080">$_</span><span style="color:#333;font-weight:bold">-&gt;</span><span style="color:#333">{</span><span style="color:#333">init_arg</span><span style="color:#333">}</span><span style="color:#333">)</span><span> </span><span style="color:#333">?</span><span> </span><span style="color:#0086B3">defined</span><span style="color:#333">(</span><span style="color:#008080">$_</span><span style="color:#333;font-weight:bold">-&gt;</span><span style="color:#333">init_arg</span><span style="color:#333">)</span><span> </span><span style="color:#333">:</span><span> </span><span style="color:#008080">1</span><span> </span><span style="color:#333">}</span><span>
</span><span>          </span><span style="color:#0086B3">map</span><span> </span><span style="color:#333">{</span><span>
</span><span>            </span><span style="color:#333;font-weight:bold">my</span><span> </span><span style="color:#008080">$meta</span><span> </span><span style="color:#333">=</span><span> </span><span style="color:#333">Moose::Util::resolve_metatrait_alias</span><span style="color:#333">(</span><span style="color:#D14">&#39;Attribute&#39;</span><span style="color:#333">,</span><span> </span><span style="color:#008080">$_</span><span style="color:#333">)</span><span>
</span><span>                         </span><span style="color:#333;font-weight:bold">-&gt;</span><span style="color:#333">meta</span><span style="color:#333">;</span><span>
</span><span>            </span><span style="color:#0086B3">map</span><span> </span><span style="color:#008080">$meta</span><span style="color:#333;font-weight:bold">-&gt;</span><span style="color:#333">get_attribute</span><span style="color:#333">(</span><span style="color:#008080">$_</span><span style="color:#333">)</span><span style="color:#333">,</span><span> </span><span style="color:#008080">$meta</span><span style="color:#333;font-weight:bold">-&gt;</span><span style="color:#333">get_attribute_list</span><span>
</span><span>          </span><span style="color:#333">}</span><span>  </span><span style="color:#008080">@</span><span style="color:#333">{</span><span style="color:#008080">$spec</span><span style="color:#333">{</span><span style="color:#333">traits</span><span style="color:#333">}</span><span style="color:#333">||</span><span style="color:#333">[</span><span style="color:#333">]</span><span style="color:#333">}</span><span>
</span><span>        </span><span style="color:#333">)</span><span>
</span><span>      </span><span style="color:#333">)</span><span style="color:#333">;</span><span>
</span><span style="color:#999988;font-style:italic">      # have to hard code this because Moose&#39;s role meta-model is lacking
</span><span>      </span><span style="color:#008080">$spec_map</span><span style="color:#333">{</span><span style="color:#333">traits</span><span style="color:#333">}</span><span> </span><span style="color:#333">||</span><span style="color:#333">=</span><span> </span><span style="color:#D14">&#39;traits&#39;</span><span style="color:#333">;</span><span>
</span><span>
      </span><span style="color:#008080">$spec</span><span style="color:#333">{</span><span style="color:#0086B3">is</span><span style="color:#333">}</span><span> </span><span style="color:#333">=</span><span> </span><span style="color:#D14">&#39;ro&#39;</span><span> </span><span style="color:#333;font-weight:bold">if</span><span> </span><span style="color:#008080">$spec</span><span style="color:#333">{</span><span style="color:#0086B3">is</span><span style="color:#333">}</span><span> </span><span style="color:#333;font-weight:bold">eq</span><span> </span><span style="color:#D14">&#39;lazy&#39;</span><span> </span><span style="color:#333;font-weight:bold">or</span><span> </span><span style="color:#008080">$spec</span><span style="color:#333">{</span><span style="color:#0086B3">is</span><span style="color:#333">}</span><span> </span><span style="color:#333;font-weight:bold">eq</span><span> </span><span style="color:#D14">&#39;rwp&#39;</span><span style="color:#333">;</span><span>
</span><span>      </span><span style="color:#333;font-weight:bold">my</span><span> </span><span style="color:#008080">$coerce</span><span> </span><span style="color:#333">=</span><span> </span><span style="color:#008080">$spec</span><span style="color:#333">{</span><span style="color:#333">coerce</span><span style="color:#333">}</span><span style="color:#333">;</span><span>
</span><span>      </span><span style="color:#333;font-weight:bold">if</span><span> </span><span style="color:#333">(</span><span style="color:#333;font-weight:bold">my</span><span> </span><span style="color:#008080">$isa</span><span> </span><span style="color:#333">=</span><span> </span><span style="color:#008080">$spec</span><span style="color:#333">{</span><span style="color:#0086B3">isa</span><span style="color:#333">}</span><span style="color:#333">)</span><span> </span><span style="color:#333">{</span><span>
</span><span>        </span><span style="color:#333;font-weight:bold">my</span><span> </span><span style="color:#008080">$tc</span><span> </span><span style="color:#333">=</span><span> </span><span style="color:#008080">$spec</span><span style="color:#333">{</span><span style="color:#0086B3">isa</span><span style="color:#333">}</span><span> </span><span style="color:#333">=</span><span> </span><span style="color:#333;font-weight:bold">do</span><span> </span><span style="color:#333">{</span><span>
</span><span>          </span><span style="color:#333;font-weight:bold">if</span><span> </span><span style="color:#333">(</span><span style="color:#333;font-weight:bold">my</span><span> </span><span style="color:#008080">$mapped</span><span> </span><span style="color:#333">=</span><span> </span><span style="color:#008080">$TYPE_MAP</span><span style="color:#333">{</span><span style="color:#008080">$isa</span><span style="color:#333">}</span><span style="color:#333">)</span><span> </span><span style="color:#333">{</span><span>
</span><span>            </span><span style="color:#333;font-weight:bold">my</span><span> </span><span style="color:#008080">$type</span><span> </span><span style="color:#333">=</span><span> </span><span style="color:#008080">$mapped</span><span style="color:#333;font-weight:bold">-&gt;</span><span style="color:#333">(</span><span style="color:#333">)</span><span style="color:#333">;</span><span>
</span><span>            </span><span style="color:#333">Scalar::Util::blessed</span><span style="color:#333">(</span><span style="color:#008080">$type</span><span style="color:#333">)</span><span> </span><span style="color:#333">&amp;&amp;</span><span> </span><span style="color:#008080">$type</span><span style="color:#333;font-weight:bold">-&gt;</span><span style="color:#333">isa</span><span style="color:#333">(</span><span style="color:#D14">&quot;Moose::Meta::TypeConstraint&quot;</span><span style="color:#333">)</span><span>
</span><span>              </span><span style="color:#333;font-weight:bold">or</span><span> </span><span style="color:#0086B3">die</span><span> </span><span style="color:#D14">&quot;error inflating attribute &#39;$name&#39; for package &#39;$_[0]&#39;: \$TYPE_MAP{$isa} did not return a valid type constraint&#39;&quot;</span><span style="color:#333">;</span><span>
</span><span>            </span><span style="color:#008080">$coerce</span><span> </span><span style="color:#333">?</span><span> </span><span style="color:#008080">$type</span><span style="color:#333;font-weight:bold">-&gt;</span><span style="color:#333">create_child_type</span><span style="color:#333">(</span><span style="color:#333">name</span><span> </span><span style="color:#333">=&gt;</span><span> </span><span style="color:#008080">$type</span><span style="color:#333;font-weight:bold">-&gt;</span><span style="color:#333">name</span><span style="color:#333">)</span><span> </span><span style="color:#333">:</span><span> </span><span style="color:#008080">$type</span><span style="color:#333">;</span><span>
</span><span>          </span><span style="color:#333">}</span><span> </span><span style="color:#333;font-weight:bold">else</span><span> </span><span style="color:#333">{</span><span>
</span><span>            </span><span style="color:#333">Moose::Meta::TypeConstraint</span><span style="color:#333;font-weight:bold">-&gt;</span><span style="color:#333">new</span><span style="color:#333">(</span><span>
</span><span>              </span><span style="color:#333">constraint</span><span> </span><span style="color:#333">=&gt;</span><span> </span><span style="color:#333;font-weight:bold">sub</span><span> </span><span style="color:#333">{</span><span> </span><span style="color:#0086B3">eval</span><span> </span><span style="color:#333">{</span><span> </span><span style="color:#008080">&amp;</span><span style="color:#008080">$isa</span><span style="color:#333">;</span><span> </span><span style="color:#008080">1</span><span> </span><span style="color:#333">}</span><span> </span><span style="color:#333">}</span><span>
</span><span>            </span><span style="color:#333">)</span><span style="color:#333">;</span><span>
</span><span>          </span><span style="color:#333">}</span><span>
</span><span>        </span><span style="color:#333">}</span><span style="color:#333">;</span><span>
</span><span>        </span><span style="color:#333;font-weight:bold">if</span><span> </span><span style="color:#333">(</span><span style="color:#008080">$coerce</span><span style="color:#333">)</span><span> </span><span style="color:#333">{</span><span>
</span><span>          </span><span style="color:#008080">$tc</span><span style="color:#333;font-weight:bold">-&gt;</span><span style="color:#333">coercion</span><span style="color:#333">(</span><span style="color:#333">Moose::Meta::TypeCoercion</span><span style="color:#333;font-weight:bold">-&gt;</span><span style="color:#333">new</span><span style="color:#333">)</span><span>
</span><span>             </span><span style="color:#333;font-weight:bold">-&gt;</span><span style="color:#333">_compiled_type_coercion</span><span style="color:#333">(</span><span style="color:#008080">$coerce</span><span style="color:#333">)</span><span style="color:#333">;</span><span>
</span><span>          </span><span style="color:#008080">$spec</span><span style="color:#333">{</span><span style="color:#333">coerce</span><span style="color:#333">}</span><span> </span><span style="color:#333">=</span><span> </span><span style="color:#008080">1</span><span style="color:#333">;</span><span>
</span><span>        </span><span style="color:#333">}</span><span>
</span><span>      </span><span style="color:#333">}</span><span> </span><span style="color:#333;font-weight:bold">elsif</span><span> </span><span style="color:#333">(</span><span style="color:#008080">$coerce</span><span style="color:#333">)</span><span> </span><span style="color:#333">{</span><span>
</span><span>        </span><span style="color:#333;font-weight:bold">my</span><span> </span><span style="color:#008080">$attr</span><span> </span><span style="color:#333">=</span><span> </span><span style="color:#333">perlstring</span><span style="color:#333">(</span><span style="color:#008080">$name</span><span style="color:#333">)</span><span style="color:#333">;</span><span>
</span><span>        </span><span style="color:#333;font-weight:bold">my</span><span> </span><span style="color:#008080">$tc</span><span> </span><span style="color:#333">=</span><span> </span><span style="color:#333">Moose::Meta::TypeConstraint</span><span style="color:#333;font-weight:bold">-&gt;</span><span style="color:#333">new</span><span style="color:#333">(</span><span>
</span><span>                   </span><span style="color:#333">constraint</span><span> </span><span style="color:#333">=&gt;</span><span> </span><span style="color:#333;font-weight:bold">sub</span><span> </span><span style="color:#333">{</span><span> </span><span style="color:#0086B3">die</span><span> </span><span style="color:#D14">&quot;This is not going to work&quot;</span><span> </span><span style="color:#333">}</span><span style="color:#333">,</span><span>
</span><span>                   </span><span style="color:#333">inlined</span><span> </span><span style="color:#333">=&gt;</span><span> </span><span style="color:#333;font-weight:bold">sub</span><span> </span><span style="color:#333">{</span><span>
</span><span>                      </span><span style="color:#D14">&#39;my $r = $_[42]{&#39;</span><span style="color:#333">.</span><span style="color:#008080">$attr</span><span style="color:#333">.</span><span style="color:#D14">&#39;}; $_[42]{&#39;</span><span style="color:#333">.</span><span style="color:#008080">$attr</span><span style="color:#333">.</span><span style="color:#D14">&#39;} = 1; $r&#39;</span><span>
</span><span>                   </span><span style="color:#333">}</span><span style="color:#333">,</span><span>
</span><span>                 </span><span style="color:#333">)</span><span style="color:#333">;</span><span>
</span><span>        </span><span style="color:#008080">$tc</span><span style="color:#333;font-weight:bold">-&gt;</span><span style="color:#333">coercion</span><span style="color:#333">(</span><span style="color:#333">Moose::Meta::TypeCoercion</span><span style="color:#333;font-weight:bold">-&gt;</span><span style="color:#333">new</span><span style="color:#333">)</span><span>
</span><span>           </span><span style="color:#333;font-weight:bold">-&gt;</span><span style="color:#333">_compiled_type_coercion</span><span style="color:#333">(</span><span style="color:#008080">$coerce</span><span style="color:#333">)</span><span style="color:#333">;</span><span>
</span><span>        </span><span style="color:#008080">$spec</span><span style="color:#333">{</span><span style="color:#0086B3">isa</span><span style="color:#333">}</span><span> </span><span style="color:#333">=</span><span> </span><span style="color:#008080">$tc</span><span style="color:#333">;</span><span>
</span><span>        </span><span style="color:#008080">$spec</span><span style="color:#333">{</span><span style="color:#333">coerce</span><span style="color:#333">}</span><span> </span><span style="color:#333">=</span><span> </span><span style="color:#008080">1</span><span style="color:#333">;</span><span>
</span><span>      </span><span style="color:#333">}</span><span>
</span><span>      </span><span style="color:#008080">%spec</span><span> </span><span style="color:#333">=</span><span>
</span><span>        </span><span style="color:#0086B3">map</span><span> </span><span style="color:#333">{</span><span> </span><span style="color:#008080">$spec_map</span><span style="color:#333">{</span><span style="color:#008080">$_</span><span style="color:#333">}</span><span> </span><span style="color:#333">=&gt;</span><span> </span><span style="color:#008080">$spec</span><span style="color:#333">{</span><span style="color:#008080">$_</span><span style="color:#333">}</span><span> </span><span style="color:#333">}</span><span>
</span><span>        </span><span style="color:#0086B3">grep</span><span> </span><span style="color:#333">{</span><span> </span><span style="color:#0086B3">exists</span><span> </span><span style="color:#008080">$spec_map</span><span style="color:#333">{</span><span style="color:#008080">$_</span><span style="color:#333">}</span><span> </span><span style="color:#333">}</span><span>
</span><span>        </span><span style="color:#0086B3">keys</span><span> </span><span style="color:#008080">%spec</span><span style="color:#333">;</span><span>
</span><span>      </span><span style="color:#0086B3">push</span><span> </span><span style="color:#008080">@attrs</span><span style="color:#333">,</span><span> </span><span style="color:#008080">$meta</span><span style="color:#333;font-weight:bold">-&gt;</span><span style="color:#333">add_attribute</span><span style="color:#333">(</span><span style="color:#008080">$name</span><span> </span><span style="color:#333">=&gt;</span><span> </span><span style="color:#008080">%spec</span><span style="color:#333">)</span><span style="color:#333">;</span><span>
</span><span>    </span><span style="color:#333">}</span><span>
</span><span>    </span><span style="color:#0086B3">foreach</span><span> </span><span style="color:#333;font-weight:bold">my</span><span> </span><span style="color:#008080">$mouse</span><span> </span><span style="color:#333">(</span><span style="color:#333;font-weight:bold">do</span><span> </span><span style="color:#333">{</span><span> </span><span style="color:#333;font-weight:bold">our</span><span> </span><span style="color:#008080">%MOUSE</span><span style="color:#333">;</span><span> </span><span style="color:#008080">@</span><span style="color:#333">{</span><span style="color:#008080">$MOUSE</span><span style="color:#333">{</span><span style="color:#008080">$name</span><span style="color:#333">}</span><span style="color:#333">||</span><span style="color:#333">[</span><span style="color:#333">]</span><span style="color:#333">}</span><span> </span><span style="color:#333">}</span><span style="color:#333">)</span><span> </span><span style="color:#333">{</span><span>
</span><span>      </span><span style="color:#0086B3">foreach</span><span> </span><span style="color:#333;font-weight:bold">my</span><span> </span><span style="color:#008080">$attr</span><span> </span><span style="color:#333">(</span><span style="color:#008080">$mouse</span><span style="color:#333;font-weight:bold">-&gt;</span><span style="color:#333">get_all_attributes</span><span style="color:#333">)</span><span> </span><span style="color:#333">{</span><span>
</span><span>        </span><span style="color:#333;font-weight:bold">my</span><span> </span><span style="color:#008080">%spec</span><span> </span><span style="color:#333">=</span><span> </span><span style="color:#008080">%</span><span style="color:#333">{</span><span style="color:#008080">$attr</span><span style="color:#333">}</span><span style="color:#333">;</span><span>
</span><span>        </span><span style="color:#0086B3">delete</span><span> </span><span style="color:#008080">@spec</span><span style="color:#333">{</span><span style="color:#D14">qw(
          associated_class associated_methods __METACLASS__
          provides curries
        )</span><span style="color:#333">}</span><span style="color:#333">;</span><span>
</span><span>        </span><span style="color:#333;font-weight:bold">my</span><span> </span><span style="color:#008080">$name</span><span> </span><span style="color:#333">=</span><span> </span><span style="color:#0086B3">delete</span><span> </span><span style="color:#008080">$spec</span><span style="color:#333">{</span><span style="color:#333">name</span><span style="color:#333">}</span><span style="color:#333">;</span><span>
</span><span>        </span><span style="color:#333;font-weight:bold">next</span><span> </span><span style="color:#333;font-weight:bold">if</span><span> </span><span style="color:#008080">$seen_name</span><span style="color:#333">{</span><span style="color:#008080">$name</span><span style="color:#333">}</span><span style="color:#333">++</span><span style="color:#333">;</span><span>
</span><span>        </span><span style="color:#0086B3">push</span><span> </span><span style="color:#008080">@attrs</span><span style="color:#333">,</span><span> </span><span style="color:#008080">$meta</span><span style="color:#333;font-weight:bold">-&gt;</span><span style="color:#333">add_attribute</span><span style="color:#333">(</span><span style="color:#008080">$name</span><span> </span><span style="color:#333">=&gt;</span><span> </span><span style="color:#008080">%spec</span><span style="color:#333">)</span><span style="color:#333">;</span><span>
</span><span>      </span><span style="color:#333">}</span><span>
</span><span>    </span><span style="color:#333">}</span><span>
</span><span>  </span><span style="color:#333">}</span><span>
</span><span>  </span><span style="color:#0086B3">for</span><span> </span><span style="color:#333;font-weight:bold">my</span><span> </span><span style="color:#008080">$meth_name</span><span> </span><span style="color:#333">(</span><span style="color:#0086B3">keys</span><span> </span><span style="color:#008080">%methods</span><span style="color:#333">)</span><span> </span><span style="color:#333">{</span><span>
</span><span>    </span><span style="color:#333;font-weight:bold">my</span><span> </span><span style="color:#008080">$meth_code</span><span> </span><span style="color:#333">=</span><span> </span><span style="color:#008080">$methods</span><span style="color:#333">{</span><span style="color:#008080">$meth_name</span><span style="color:#333">}</span><span style="color:#333">;</span><span>
</span><span>    </span><span style="color:#008080">$meta</span><span style="color:#333;font-weight:bold">-&gt;</span><span style="color:#333">add_method</span><span style="color:#333">(</span><span style="color:#008080">$meth_name</span><span style="color:#333">,</span><span> </span><span style="color:#008080">$meth_code</span><span style="color:#333">)</span><span> </span><span style="color:#333;font-weight:bold">if</span><span> </span><span style="color:#008080">$meth_code</span><span style="color:#333">;</span><span>
</span><span>  </span><span style="color:#333">}</span><span>
</span><span>
  </span><span style="color:#333;font-weight:bold">if</span><span> </span><span style="color:#333">(</span><span style="color:#008080">$am_role</span><span style="color:#333">)</span><span> </span><span style="color:#333">{</span><span>
</span><span>    </span><span style="color:#333;font-weight:bold">my</span><span> </span><span style="color:#008080">$info</span><span> </span><span style="color:#333">=</span><span> </span><span style="color:#008080">$Moo::Role::INFO</span><span style="color:#333">{</span><span style="color:#008080">$name</span><span style="color:#333">}</span><span style="color:#333">;</span><span>
</span><span>    </span><span style="color:#008080">$meta</span><span style="color:#333;font-weight:bold">-&gt;</span><span style="color:#333">add_required_methods</span><span style="color:#333">(</span><span style="color:#008080">@</span><span style="color:#333">{</span><span style="color:#008080">$info</span><span style="color:#333;font-weight:bold">-&gt;</span><span style="color:#333">{</span><span style="color:#333">requires</span><span style="color:#333">}</span><span style="color:#333">}</span><span style="color:#333">)</span><span style="color:#333">;</span><span>
</span><span>    </span><span style="color:#0086B3">foreach</span><span> </span><span style="color:#333;font-weight:bold">my</span><span> </span><span style="color:#008080">$modifier</span><span> </span><span style="color:#333">(</span><span style="color:#008080">@</span><span style="color:#333">{</span><span style="color:#008080">$info</span><span style="color:#333;font-weight:bold">-&gt;</span><span style="color:#333">{</span><span style="color:#333">modifiers</span><span style="color:#333">}</span><span style="color:#333">}</span><span style="color:#333">)</span><span> </span><span style="color:#333">{</span><span>
</span><span>      </span><span style="color:#333;font-weight:bold">my</span><span> </span><span style="color:#333">(</span><span style="color:#008080">$type</span><span style="color:#333">,</span><span> </span><span style="color:#008080">@args</span><span style="color:#333">)</span><span> </span><span style="color:#333">=</span><span> </span><span style="color:#008080">@</span><span style="color:#008080">$modifier</span><span style="color:#333">;</span><span>
</span><span>      </span><span style="color:#333;font-weight:bold">my</span><span> </span><span style="color:#008080">$code</span><span> </span><span style="color:#333">=</span><span> </span><span style="color:#0086B3">pop</span><span> </span><span style="color:#008080">@args</span><span style="color:#333">;</span><span>
</span><span>      </span><span style="color:#008080">$meta</span><span style="color:#333;font-weight:bold">-&gt;</span><span style="color:#008080">$</span><span style="color:#333">{</span><span style="color:#333;font-weight:bold">\</span><span style="color:#D14">&quot;add_${type}_method_modifier&quot;</span><span style="color:#333">}</span><span style="color:#333">(</span><span style="color:#008080">$_</span><span style="color:#333">,</span><span> </span><span style="color:#008080">$code</span><span style="color:#333">)</span><span> </span><span style="color:#0086B3">for</span><span> </span><span style="color:#008080">@args</span><span style="color:#333">;</span><span>
</span><span>    </span><span style="color:#333">}</span><span>
</span><span>  </span><span style="color:#333">}</span><span> </span><span style="color:#333;font-weight:bold">else</span><span> </span><span style="color:#333">{</span><span>
</span><span>    </span><span style="color:#0086B3">foreach</span><span> </span><span style="color:#333;font-weight:bold">my</span><span> </span><span style="color:#008080">$attr</span><span> </span><span style="color:#333">(</span><span style="color:#008080">@attrs</span><span style="color:#333">)</span><span> </span><span style="color:#333">{</span><span>
</span><span>      </span><span style="color:#0086B3">foreach</span><span> </span><span style="color:#333;font-weight:bold">my</span><span> </span><span style="color:#008080">$method</span><span> </span><span style="color:#333">(</span><span style="color:#008080">@</span><span style="color:#333">{</span><span style="color:#008080">$attr</span><span style="color:#333;font-weight:bold">-&gt;</span><span style="color:#333">associated_methods</span><span style="color:#333">}</span><span style="color:#333">)</span><span> </span><span style="color:#333">{</span><span>
</span><span>        </span><span style="color:#008080">$method</span><span style="color:#333;font-weight:bold">-&gt;</span><span style="color:#333">{</span><span style="color:#333">body</span><span style="color:#333">}</span><span> </span><span style="color:#333">=</span><span> </span><span style="color:#008080">$name</span><span style="color:#333;font-weight:bold">-&gt;</span><span style="color:#333">can</span><span style="color:#333">(</span><span style="color:#008080">$method</span><span style="color:#333;font-weight:bold">-&gt;</span><span style="color:#333">name</span><span style="color:#333">)</span><span style="color:#333">;</span><span>
</span><span>      </span><span style="color:#333">}</span><span>
</span><span>    </span><span style="color:#333">}</span><span>
</span><span>    </span><span style="color:#0086B3">bless</span><span style="color:#333">(</span><span>
</span><span>      </span><span style="color:#008080">$meta</span><span style="color:#333;font-weight:bold">-&gt;</span><span style="color:#333">find_method_by_name</span><span style="color:#333">(</span><span style="color:#D14">&#39;new&#39;</span><span style="color:#333">)</span><span style="color:#333">,</span><span>
</span><span>      </span><span style="color:#D14">&#39;Moo::HandleMoose::FakeConstructor&#39;</span><span style="color:#333">,</span><span>
</span><span>    </span><span style="color:#333">)</span><span style="color:#333">;</span><span>
</span><span style="color:#999988;font-style:italic">    # a combination of Moo and Moose may bypass a Moo constructor but still
</span><span style="color:#999988;font-style:italic">    # use a Moo DEMOLISHALL.  We need to make sure this is loaded before
</span><span style="color:#999988;font-style:italic">    # global destruction.
</span><span>    </span><span style="color:#333;font-weight:bold">require</span><span> </span><span style="color:#333">Method::Generate::DemolishAll</span><span style="color:#333">;</span><span>
</span><span>  </span><span style="color:#333">}</span><span>
</span><span>  </span><span style="color:#008080">$meta</span><span style="color:#333;font-weight:bold">-&gt;</span><span style="color:#333">add_role</span><span style="color:#333">(</span><span style="color:#333">Class::MOP::class_of</span><span style="color:#333">(</span><span style="color:#008080">$_</span><span style="color:#333">)</span><span style="color:#333">)</span><span>
</span><span>    </span><span style="color:#0086B3">for</span><span> </span><span style="color:#0086B3">grep</span><span> </span><span style="color:#333">!</span><span style="color:#009926">/\|/</span><span> </span><span style="color:#333">&amp;&amp;</span><span> </span><span style="color:#008080">$_</span><span> </span><span style="color:#333;font-weight:bold">ne</span><span> </span><span style="color:#008080">$name</span><span style="color:#333">,</span><span> </span><span style="color:#999988;font-style:italic"># reject Foo|Bar and same-role-as-self</span><span>
</span><span>      </span><span style="color:#333;font-weight:bold">do</span><span> </span><span style="color:#333">{</span><span> </span><span style="color:#0086B3">no</span><span> </span><span style="color:#333">warnings</span><span> </span><span style="color:#D14">&#39;once&#39;</span><span style="color:#333">;</span><span> </span><span style="color:#0086B3">keys</span><span> </span><span style="color:#008080">%</span><span style="color:#333">{</span><span style="color:#008080">$Role::Tiny::APPLIED_TO</span><span style="color:#333">{</span><span style="color:#008080">$name</span><span style="color:#333">}</span><span style="color:#333">}</span><span> </span><span style="color:#333">}</span><span style="color:#333">;</span><span>
</span><span>  </span><span style="color:#008080">$DID_INJECT</span><span style="color:#333">{</span><span style="color:#008080">$name</span><span style="color:#333">}</span><span> </span><span style="color:#333">=</span><span> </span><span style="color:#008080">1</span><span style="color:#333">;</span><span>
</span><span>  </span><span style="color:#008080">$meta</span><span style="color:#333">;</span><span>
</span><span style="color:#333">}</span><span>
</span><span>
</span><span style="color:#008080">1</span><span style="color:#333">;</span><span>
</span></div>
</div>
<div style="clear:both"></div>
<!-- Generated @ Sat Mar 22 18:37:59 2014, using Pistachio version 0.05 -->